(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),o=n(24),i=n.n(o),r=(n(98),n(8)),c=n(9),l=n(12),u=n(11),h=n(13),m=n(29),d=n.n(m),p=n(16),g=n(65),f=n(19),b=n(165),v=n(166),y=n(167),w=n(172),E=n(81),O=n.n(E),j=n(173),C=n(164),S=n(3),k=n.n(S),R=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={open:n.props.show,message:n.props.message,timeOut:3e3,Transition:C.a},n.props.onBindMessageRef(Object(p.a)(n)),n.showMessage.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"showMessage",value:function(e){var t=this;this.setState({open:!0,message:e}),setTimeout(function(){t.handleClose()},3e3)}},{key:"handleClose",value:function(){this.setState({open:!1,Fade:C.a})}},{key:"render",value:function(){return s.a.createElement(j.a,{anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:this.state.timeOut,open:this.state.open,onClose:this.handleClose.bind(this),TransitionComponent:this.state.Transition,ContentProps:{"aria-describedby":"message-id"},message:s.a.createElement("span",{id:"message-id"},this.state.message)})}}]),t}(a.Component);R.prototypes={classes:k.a.object.isRequired,index:k.a.number,style:k.a.object};var x=R,N=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onBindMessageRef=function(e){n.message=e},n.handlerOnKeyPress=function(e){13===e.nativeEvent.keyCode&&n.handlerSearchClick(e)},n.state={member:"",message:null},n.onBindMessageRef.bind(Object(p.a)(n)),n.props.onChange.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"handlerInputChanged",value:function(e){this.setState({member:e.target.value})}},{key:"handlerSearchClick",value:function(e){var t=this.state.member;return""===t?(this.message.showMessage("\u4f1a\u5458\u53f7\u4e0d\u80fd\u4e3a\u7a7a"),!1):isNaN(t)?(this.message.showMessage("\u4f1a\u5458\u53f7\u4e0d\u6b63\u786e "),!1):13!==t.length?(this.message.showMessage("\u8bf7\u8f93\u5165\u6b63\u786e\u768413\u4f4d\u4f1a\u5458\u53f7"),!1):void this.props.onChange(t)}},{key:"render",value:function(){var e=this.props.classes;return s.a.createElement("div",{className:e.root},s.a.createElement(x,{show:!1,message:"",onBindMessageRef:this.onBindMessageRef}),s.a.createElement(b.a,{position:"static"},s.a.createElement(v.a,null,s.a.createElement("div",{className:e.search},s.a.createElement("div",{className:e.searchIcon},s.a.createElement(O.a,null)),s.a.createElement(w.a,{autoFocus:!0,value:this.state.member,onChange:this.handlerInputChanged.bind(this),placeholder:"\u8f93\u5165\u4f1a\u5458\u53f7\u67e5\u8be2",type:"number",classes:{root:e.inputRoot,input:e.inputInput},onKeyPress:this.handlerOnKeyPress.bind(this),inputProps:{"aria-label":"Search"}})),s.a.createElement(y.a,{className:e.button,color:"inherit",onClick:this.handlerSearchClick.bind(this)},"\u641c\xa0\u7d22\xa0"))))}}]),t}(a.Component),M=d()(function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},search:Object(g.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(f.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(f.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(g.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),button:{margin:e.spacing(1)},input:{display:"none"}}})(N),B=n(168),P=n(169),A=n(170),I=n(171),D=n(54),T=n(39),U=n.n(T);U.a.defaults.baseURL="http://hongbaoapp.cn:8100/",U.a.defaults.timeout=18e4,U.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",U.a.interceptors.request.use(function(e){var t=localStorage.getItem("token");return e.headers.common.Authorization=null!==t?t:"",e},function(e){return Promise.reject(e.response)});var L=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"fetch",value:function(e){var t=this;return new Promise(function(n,a){t.get("user",{number:e}).then(function(e){n(e)}).catch(function(e){a(e)})})}},{key:"dredgeSvip",value:function(e){var t=this;return new Promise(function(n,a){t.get("user/openSvip",{mumbers:e}).then(function(e){n(e)}).catch(function(e){a(e)})})}},{key:"login",value:function(e,t){var n=this;return new Promise(function(a,s){n.post("admin/login",{user_name:e,password:t}).then(function(e){a(e)}).catch(function(e){s(e)})})}}]),t}(function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,[{key:"get",value:function(e,t){return new Promise(function(n,a){U.a.get(e,{params:t}).then(function(t){200===t.status?n(t.data):a(new Error("\u8bf7\u6c42\u6570\u636e\u5931\u8d25"+e))}).catch(function(e){a(e)})})}},{key:"post",value:function(e,t){return new Promise(function(n,a){U.a.post(e,t).then(function(e){n(e)}).catch(function(e){a(e)})})}}]),e}()),F=(n(145),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).searchButtonOnChanged=function(e){var t=Object(p.a)(n);L.prototype.fetch(e).then(function(e){200!==e.status?t.message.showMessage(e.msg):t.setState({user:e.data.user,permission:e.data.permission})}).catch(function(e){console.log(e)})},n.handlerSvipButtonClick=function(e){var t=Object(p.a)(n);L.prototype.dredgeSvip(n.state.user.number).then(function(e){200!==e.status?t.message.showMessage(e.msg[0]):(t.searchButtonOnChanged(n.state.user.number),t.message.showMessage(e.msg[0]))}).catch(function(e){console.log(e)})},n.onBindMessageRef=function(e){n.message=e},n.getSvipButton=function(e, t){if(!e)return s.a.createElement("div",{className:t.vipButton},s.a.createElement(y.a,{variant:"contained",color:"primary",className:t.button,onClick:n.handlerSvipButtonClick.bind(Object(p.a)(n))},"\u5f00\u901aSVIP"))},n.showEmptyMessage=function(e){return s.a.createElement("div",null,s.a.createElement(D.a,{variant:"subtitle1",gutterBottom:!0,className:e.emptyMessage},"\xa0"))},n.props.onChangeRef(Object(p.a)(n)),n.searchButtonOnChanged.bind(Object(p.a)(n)),n.state={user:null,permission:null},n.onBindMessageRef.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"showUserData",value:function(e, t, n){return s.a.createElement("div",null,s.a.createElement(B.a,{component:"nav","aria-label":"Secondary mailbox folders",className:n.root},s.a.createElement(P.a,{component:"a",button:!0},s.a.createElement(A.a,{primary:"\u4f1a\u5458\u53f7"}),s.a.createElement(A.a,{primary:e.number,className:n.item})),s.a.createElement(I.a,null),s.a.createElement(P.a,{button:!0,component:"a"},s.a.createElement(A.a,{primary:"\u6635\u79f0"}),s.a.createElement(A.a,{primary:e.nick_name,className:n.item})),s.a.createElement(I.a,null),s.a.createElement(P.a,{button:!0,component:"a",href:"#simple-list"},s.a.createElement(A.a,{primary:"SVIP"}),s.a.createElement(A.a,{primary:1===t.svip?"\u662f":"\u5426",className:n.item})),s.a.createElement(I.a,null)),this.getSvipButton(t.svip,n))}},{key:"render",value:function(){var e=this.props.classes;return s.a.createElement(s.a.Fragment,null,s.a.createElement(x,{show:!1,message:"",onBindMessageRef:this.onBindMessageRef}),this.state.user?this.showUserData(this.state.user,this.state.permission,e):this.showEmptyMessage(e))}}]),t}(s.a.Component));F.prototypes={classes:k.a.object.isRequired};var z=d()(function(e){return{root:{width:"100%",marginTop:10,maxWidth:1e3,alignContent:"center",backgroundColor:e.palette.background.paper},item:{textAlign:"right",paddingRight:15},bigAvatar:{margin:10,width:30,height:30,textAlign:"right"},emptyMessage:{textAlign:"center",marginTop:20},vipButton:{textAlign:"center",boxSizing:"border-box"},button:{margin:e.spacing(1),width:"80%"},input:{display:"none"}}})(F),q=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return s.a.createElement("div",{className:e.root},"\u6e29\u6696\u8d70\u8d77")}}]),t}(a.Component),G=d()(function(e){return{root:{paddingBottom:10}}})(q),K=n(25),W=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onSearchChanged=function(e){n.setState({member:e}),n.container.searchButtonOnChanged(e)},n.onContentChangedRef=function(e){n.container=e},n.state={member:""},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){null===localStorage.getItem("token")&&this.props.history.push("/login")}},{key:"render",value:function(){var e=this.props.classes;return s.a.createElement("div",{className:e.root},s.a.createElement("div",{className:e.header},s.a.createElement(M,{onChange:this.onSearchChanged.bind(this)})),s.a.createElement("div",{className:e.main},s.a.createElement(z,{onChangeRef:this.onContentChangedRef.bind(this)})),s.a.createElement("div",{className:e.footer},s.a.createElement(G,null)))}}]),t}(a.Component);W.prototypes={classes:k.a.object.isRequired};var H=Object(K.e)(d()(function(e){return{root:{height:"100vh",width:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"},header:{width:"100%",height:"auto"},main:{flex:1,overflowX:"hidden",height:"100vh"},container:{marginBottom:10},footer:{height:"auto",width:"100%",textAlign:"center"}}})(W)),J=n(174),V=n(86),X=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(s)))).verifyPhone=function(e){return/^1[3456789]\d{9}$/.test(e)},n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return""}}]),t}(s.a.Component),$=(n(147),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).SUCCESS="#00CC99",n.ERROR="#CC3333",n.DEFAULT="#3f51b5",n.onBindMessageRef=function(e){n.message=e},n.handleOnChangePassword=function(e){var t=e.target.value;n.setState({password:t}),t.length>=6&&t.length<=32?n.setState({passwordStyle:n.SUCCESS,password:t}):t.length>32?n.setState({passwordStyle:n.ERROR}):n.setState({passwordStyle:n.DEFAULT})},n.handleClickLogin=function(){var e=n.state.username,t=n.state.password;if(!n.verifyPhone(e))return n.message.showMessage("\u767b\u5f55\u7684\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"),n.setState({userNameStyle:n.ERROR}),!1;if(!(t.length>=6&&t.length<=32))return n.message.showMessage("\u624b\u673a\u53f7\u7801\u683c\u5f0f\u57286-32\u4f4d\u4e4b\u95f4"),!1;var a=Object(p.a)(n);L.prototype.login(e,t).then(function(e){200===e.data.status?(localStorage.setItem("token",e.data.data),a.props.history.push("/")):a.message.showMessage(e.data.msg)}).catch(function(e){console.log(e)})},n.state={userNameStyle:n.DEFAULT,passwordStyle:n.DEFAULT,username:"",password:""},n.onBindMessageRef.bind(Object(p.a)(n)),n}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){null!==localStorage.getItem("token")&&this.props.history.push("/")}},{key:"handlerUserNameChange",value:function(e){var t=e.target.value;this.setState({username:t}),t.length>=11?this.verifyPhone(t)?this.setState({userNameStyle:this.SUCCESS,username:t}):(this.message.showMessage("\u767b\u5f55\u7684\u624b\u673a\u53f7\u7801\u683c\u5f0f\u4e0d\u6b63\u786e"),this.setState({userNameStyle:this.ERROR})):this.setState({userNameStyle:this.DEFAULT})}},{key:"render",value:function(){var e=this.props.classes;return s.a.createElement("div",{className:e.root},s.a.createElement(x,{show:!1,message:"",onBindMessageRef:this.onBindMessageRef}),s.a.createElement("div",{className:e.header},s.a.createElement(b.a,{position:"static"},s.a.createElement(v.a,null,s.a.createElement(D.a,{variant:"h6"},"\u8001\u9b4f \u627e\u6e29\u6696")))),s.a.createElement("div",{className:e.main},s.a.createElement("div",{className:e.container},s.a.createElement("div",{className:e.panel},s.a.createElement("input",{type:"number",style:{borderBottomColor:this.state.userNameStyle},value:this.state.username,maxLength:11,autoFocus:!0,name:"phone",className:"input",onChange:this.handlerUserNameChange.bind(this),placeholder:"\u8f93\u5165\u624b\u673a\u53f7"}),s.a.createElement("input",{type:"password",style:{borderBottomColor:this.state.passwordStyle},value:this.state.password,name:"password",className:"input",onChange:this.handleOnChangePassword.bind(this),placeholder:"\u767b\u5f55\u5bc6\u7801",maxLength:20}),s.a.createElement(y.a,{variant:"contained",color:"primary",className:e.logBtn,onClick:this.handleClickLogin.bind(this)},"\u6e29\xa0\xa0\u6696")))),s.a.createElement("div",{className:e.footer},s.a.createElement(G,null)))}}]),t}(X)),_=Object(K.e)(d()({root:{height:"100vh",width:"100%",boxSizing:"border-box",display:"flex",flexDirection:"column"},header:{width:"100%",height:"auto"},main:{flex:1,display:"flex",flexDirection:"column",overflowX:"hidden",height:"100vh"},container:{display:"flex",flexDirection:"column",width:"100%",height:"100%",justifyContent:"center",alignItems:"center",marginBottom:200},footer:{height:"auto",width:"100%",textAlign:"center"},loginHeader:{textAlign:"center",flexGrow:1},panel:{width:"95%",height:200,textAlign:"center",borderRadius:"5px",justifyContent:"center",alignItems:"center"},logBtn:{marginTop:30,width:"80%"}})($)),Q=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(J.a,null),s.a.createElement(V.a,null,s.a.createElement(K.a,{exact:!0,path:"/",component:H}),s.a.createElement(K.a,{path:"/login",component:_})))}}]),t}(s.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},93:function(e,t,n){e.exports=n(148)},98:function(e,t,n){}},[[93,1,2]]]);
//# sourceMappingURL=main.47256099.chunk.js.map
